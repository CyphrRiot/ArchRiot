# ArchRiot zram-generator configuration
# Location (system-wide): /etc/systemd/zram-generator.conf
#
# Purpose:
# - Provide fast, compressed swap in RAM to absorb temporary memory spikes.
# - Prevents OOM storms (Waybar/VSCode/Steam) by giving the kernel headroom.
#
# Requirements:
# - Package: zram-generator
# - Enable at login/boot (one-time):
#     sudo systemctl enable --now /dev/zram0.swap
#
# Notes:
# - zstd gives an excellent compression/speed balance on modern CPUs.
# - zram-size is bounded to avoid runaway swap reservations on large-RAM systems.
# - Swap priority is set higher than file-based swap (if any), so zram is preferred.

[zram0]
# Allocate compressed swap equal to half of physical RAM,
# bounded between 1G and 8G to keep behavior predictable.
zram-size = ram / 2


# Prefer zstd unless you have a strong reason to change it (e.g., lz4 for very slow CPUs).
compression-algorithm = zstd

# Ensure the kernel prefers zram over any disk swap (higher = more preferred).
swap-priority = 100
